/*!
 * eMAG Apps UI KIT v1.0.0 * Copyright 2001-2018 eMAG HX Team
 * Licensed under the ISC license
 */
function initPhotonStick(t){var i=$(t||"body"),e=".stick",o=i.find(e),n=$(".navbar-fixed-top").outerHeight(),s=3,r=50;function c(){$(".stick-with-no-parent").each(function(){a(this)})}function a(t){var i=function(t){var i=0;return $(t).find("input, div, select, ul").not(e).each(function(){var t=parseInt($(this).css("zIndex"),10);t>i&&(i=t)}),i}(t);$(t).find(e).each(function(){var t=this.minPosibleIndex;$(this).css({"z-index":t+i})})}!function(t){$(document.body).off("click",".stick-with-no-parent"),$.each(t,function(){this.posTop=null,this.minPosibleIndex=null,$this=$(this),$this.trigger("sticky_kit:detach"),$this.parent().removeClass("stick-with-no-parent")})}(o),$.each(o,function(){var t,i=$(this),o=i.parents(),c=!1;if($.each(o,function(){"none"!=$(this).css("display")||(c=!0)}),!c){i.parent().css({"min-height":function(t){return t.outerHeight()+s}(i)});var a=i.parent().find(e);a.each(function(){var t,e;t=this,e=i,$(t).is(e)||(t.posTop?t.posTop+=e.outerHeight():t.posTop=e.outerHeight())}),$(a.get().reverse()).each(function(t){!function(t,i){var e=i+1;t.minPosibleIndex=e}(this,t)}),t=this,$stickElement=$(t),t.posTop?$stickElement.stick_in_parent({offset_top:n+t.posTop-parseInt($stickElement.css("marginTop")),recalc_every:r}):($stickElement.parent().addClass("stick-with-no-parent"),$stickElement.stick_in_parent({offset_top:n-parseInt($stickElement.css("marginTop")),recalc_every:r}))}}),c(),$(document.body).on("click",".stick-with-no-parent",function(){a(this)}),$(window).off("scroll",c),$(window).on("scroll",c)}(function(){var t,i;t=this.jQuery||window.jQuery,i=t(window),t.fn.stick_in_parent=function(e){var o,n,s,r,c,a,l,p,d,h,u,f,g;for(null==e&&(e={}),h=e.sticky_class,r=e.inner_scrolling,d=e.recalc_every,p=e.parent,a=e.offset_top,c=e.spacer,s=e.bottoming,null==a&&(a=0),null==p&&(p=void 0),null==r&&(r=!0),null==h&&(h="is_stuck"),o=t(document),null==s&&(s=!0),l=function(t){var i,e;return window.getComputedStyle?(t[0],i=window.getComputedStyle(t[0]),e=parseFloat(i.getPropertyValue("width"))+parseFloat(i.getPropertyValue("margin-left"))+parseFloat(i.getPropertyValue("margin-right")),"border-box"!==i.getPropertyValue("box-sizing")&&(e+=parseFloat(i.getPropertyValue("border-left-width"))+parseFloat(i.getPropertyValue("border-right-width"))+parseFloat(i.getPropertyValue("padding-left"))+parseFloat(i.getPropertyValue("padding-right"))),e):t.outerWidth(!0)},u=function(e,n,u,f,g,k,m,b){var v,y,$,w,_,x,P,T,I,z,C,V;if(!e.data("sticky_kit")){if(e.data("sticky_kit",!0),_=o.height(),P=e.parent(),null!=p&&(P=P.closest(p)),!P.length)throw"failed to find stick parent";if($=!1,v=!1,(C=null!=c?c&&e.closest(c):t("<div />"))&&C.css("position",e.css("position")),(T=function(){var t,i,s;if(!b)return _=o.height(),t=parseInt(P.css("border-top-width"),10),i=parseInt(P.css("padding-top"),10),n=parseInt(P.css("padding-bottom"),10),u=P.offset().top+t+i,f=P.height(),$&&($=!1,v=!1,null==c&&(e.insertAfter(C),C.detach()),e.css({position:"",top:"",width:"",bottom:""}).removeClass(h),s=!0),g=e.offset().top-(parseInt(e.css("margin-top"),10)||0)-a,k=e.outerHeight(!0),m=e.css("float"),C&&C.css({width:l(e),height:k,display:e.css("display"),"vertical-align":e.css("vertical-align"),float:m}),s?V():void 0})(),k!==f)return w=void 0,x=a,z=d,V=function(){var t,l,p,y,I,V;if(!b)return p=!1,null!=z&&(z-=1)<=0&&(z=d,T(),p=!0),p||o.height()===_||(T(),p=!0),y=i.scrollTop(),null!=w&&(l=y-w),w=y,$?(s&&(I=y+k+x>f+u,v&&!I&&(v=!1,e.css({position:"fixed",bottom:"",top:x}).trigger("sticky_kit:unbottom"))),y<g&&($=!1,x=a,null==c&&("left"!==m&&"right"!==m||e.insertAfter(C),C.detach()),t={position:"",width:"",top:""},e.css(t).removeClass(h).trigger("sticky_kit:unstick")),r&&(V=i.height(),k+a>V&&(v||(x-=l,x=Math.max(V-k,x),x=Math.min(a,x),$&&e.css({top:x+"px"}))))):y>g&&($=!0,(t={position:"fixed",top:x}).width="border-box"===e.css("box-sizing")?e.outerWidth()+"px":e.width()+"px",e.css(t).addClass(h),null==c&&(e.after(C),"left"!==m&&"right"!==m||C.append(e)),e.trigger("sticky_kit:stick")),$&&s&&(null==I&&(I=y+k+x>f+u),!v&&I)?(v=!0,"static"===P.css("position")&&P.css({position:"relative"}),e.css({position:"absolute",bottom:n,top:"auto"}).trigger("sticky_kit:bottom")):void 0},I=function(){return T(),V()},y=function(){if(b=!0,i.off("touchmove",V),i.off("scroll",V),i.off("resize",I),t(document.body).off("sticky_kit:recalc",I),e.off("sticky_kit:detach",y),e.removeData("sticky_kit"),e.css({position:"",bottom:"",top:"",width:""}),P.position("position",""),$)return null==c&&("left"!==m&&"right"!==m||e.insertAfter(C),C.remove()),e.removeClass(h)},i.on("touchmove",V),i.on("scroll",V),i.on("resize",I),t(document.body).on("sticky_kit:recalc",I),e.on("sticky_kit:detach",y),setTimeout(V,0)}},f=0,g=this.length;f<g;f++)n=this[f],u(t(n));return this}}).call(this),$(window).on("minimize.photon.sidebar maximize.photon.sidebar hidden.bs.collapse hidden.bs.tab shown.bs.collapse shown.bs.tab show.bs.tab show.bs.collapse resize",function(){setTimeout(function(){$(document.body).trigger("sticky_kit:recalc")},0)}),$(document.body).on("click",".tool",function(t){$.each($(t.target).closest(".panel").find(".ui-jqgrid-hdiv"),function(t,i){var e=$(this);setTimeout(function(){var t=e.parent().find(".ui-jqgrid-bdiv");e.scrollLeft(t.scrollLeft())},100)})});