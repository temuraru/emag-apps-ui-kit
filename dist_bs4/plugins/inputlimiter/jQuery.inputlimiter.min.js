/*!
 * eMAG Apps UI KIT v1.0.0 * Copyright 2001-2018 eMAG HX Team
 * Licensed under the ISC license
 */
!function(t){t.fn.inputlimiter=function(e){var i=t.extend({},t.fn.inputlimiter.defaults,e);t(this);i.boxAttach&&!t("#"+i.boxId).length&&(t("<div/>").appendTo("body").attr({id:i.boxId,class:i.boxClass}).css({position:"absolute"}).hide(),t.fn.bgiframe&&t("#"+i.boxId).bgiframe());var l=function(e){var l=t(this),r=a(l.val());!i.allowExceed&&r>i.limit&&l.val(o(l.val())),i.boxAttach&&t("#"+i.boxId).css({width:l.outerWidth()-(t("#"+i.boxId).outerWidth()-t("#"+i.boxId).width())+"px",left:l.offset().left+"px",top:l.offset().top+l.outerHeight()-1+"px","z-index":2e3});var n=i.limit-r>0?i.limit-r:0,m=i.remTextFilter(i,n),s=i.limitTextFilter(i);if(i.limitTextShow){t("#"+i.boxId).html(m+" "+s);var x=t("<span/>").appendTo("body").attr({id:"19cc9195583bfae1fad88e19d443be7a",class:i.boxClass}).html(m+" "+s).innerWidth();t("#19cc9195583bfae1fad88e19d443be7a").remove(),x>t("#"+i.boxId).innerWidth()&&t("#"+i.boxId).html(m+"<br />"+s),t("#"+i.boxId).show()}else t("#"+i.boxId).html(m).show()},r=function(e){var l=a(t(this).val());if(!i.allowExceed&&l>i.limit&&(!(e.ctrlKey||e.altKey||e.metaKey)&&e.which>=32&&e.which<=122&&this.selectionStart===this.selectionEnd))return!1},n=function(){var e=t(this);if(count=a(e.val()),!i.allowExceed&&count>i.limit&&e.val(o(e.val())),i.boxAttach)t("#"+i.boxId).fadeOut("fast");else if(i.remTextHideOnBlur){var l=i.limitText;l=(l=l.replace(/\%n/g,i.limit)).replace(/\%s/g,1===i.limit?"":"s"),t("#"+i.boxId).html(l)}},a=function(e){if("words"===i.limitBy.toLowerCase())return e.length>0?t.trim(e).replace(/\ +(?= )/g,"").split(" ").length:0;var l=e.length,r=e.match(/\n/g);return r&&i.lineReturnCount>1&&(l+=r.length*(i.lineReturnCount-1)),l},o=function(e){return"words"===i.limitBy.toLowerCase()?t.trim(e).replace(/\ +(?= )/g,"").split(" ").splice(0,i.limit).join(" ")+" ":e.substring(0,i.limit)};t(this).each(function(a){var o=t(this);(!e||!e.limit)&&i.useMaxlength&&parseInt(o.attr("maxlength"))>0&&parseInt(o.attr("maxlength"))!=i.limit?o.inputlimiter(t.extend({},i,{limit:parseInt(o.attr("maxlength"))})):(!i.allowExceed&&i.useMaxlength&&"characters"===i.limitBy.toLowerCase()&&o.attr("maxlength",i.limit),o.unbind(".inputlimiter"),o.bind("keyup.inputlimiter",l),o.bind("keypress.inputlimiter",r),o.bind("blur.inputlimiter",n))})},t.fn.inputlimiter.remtextfilter=function(t,e){var i=t.remText;return 0===e&&null!==t.remFullText&&(i=t.remFullText),i=(i=i.replace(/\%n/g,e)).replace(/\%s/g,t.zeroPlural?1===e?"":"s":e<=1?"":"s")},t.fn.inputlimiter.limittextfilter=function(t){var e=t.limitText;return e=(e=e.replace(/\%n/g,t.limit)).replace(/\%s/g,t.limit<=1?"":"s")},t.fn.inputlimiter.defaults={limit:255,boxAttach:!0,boxId:"limiterBox",boxClass:"limiterBox",remText:"%n character%s remaining.",remTextFilter:t.fn.inputlimiter.remtextfilter,remTextHideOnBlur:!0,remFullText:null,limitTextShow:!0,limitText:"Field limited to %n character%s.",limitTextFilter:t.fn.inputlimiter.limittextfilter,zeroPlural:!0,allowExceed:!1,useMaxlength:!0,limitBy:"characters",lineReturnCount:1}}(jQuery);