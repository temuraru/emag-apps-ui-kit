/*!
 * eMAG Apps UI KIT v1.0.0 * Copyright 2001-2018 eMAG HX Team
 * Licensed under the ISC license
 */
function initPhotonStick(t){var i=$(t||"body"),o=".stick",n=i.find(o),s=$(".navbar-fixed-top").outerHeight(),e=3,c=50;function r(){$(".stick-with-no-parent").each(function(){l(this)})}function a(t){return t.outerHeight()+e}function l(t){var i=function(t){var i=0;return $(t).find("input, div, select, ul").not(o).each(function(){var t=parseInt($(this).css("zIndex"),10);t>i&&(i=t)}),i}(t);$(t).find(o).each(function(){var t=this.minPosibleIndex;$(this).css({"z-index":t+i})})}!function(t){$(document.body).off("click",".stick-with-no-parent"),$.each(t,function(){this.posTop=null,this.minPosibleIndex=null,$this=$(this),$this.trigger("sticky_kit:detach"),$this.parent().removeClass("stick-with-no-parent")})}(n),$.each(n,function(){var t,i=$(this),n=i.parents(),e=!1;if($.each(n,function(){"none"!=$(this).css("display")||(e=!0)}),!e){i.parent().css({"min-height":a(i)});var r=i.parent().find(o);r.each(function(){var t,o;t=this,o=i,$(t).is(o)||(t.posTop?t.posTop+=o.outerHeight():t.posTop=o.outerHeight())}),$(r.get().reverse()).each(function(t){!function(t,i){var o=i+1;t.minPosibleIndex=o}(this,t)}),t=this,$stickElement=$(t),t.posTop?$stickElement.stick_in_parent({offset_top:s+t.posTop-parseInt($stickElement.css("marginTop")),recalc_every:c}):($stickElement.parent().addClass("stick-with-no-parent"),$stickElement.stick_in_parent({offset_top:s-parseInt($stickElement.css("marginTop")),recalc_every:c}))}}),r(),$(document.body).on("click",".stick-with-no-parent",function(){l(this)}),$(window).off("scroll",r),$(window).on("scroll",r)}(function(){var t,i;t=this.jQuery||window.jQuery,i=t(window),t.fn.stick_in_parent=function(o){var n,s,e,c,r,a,l,h,p,f,u,d;for(null==o&&(o={}),d=o.sticky_class,a=o.inner_scrolling,u=o.recalc_every,f=o.parent,p=o.offset_top,h=o.spacer,e=o.bottoming,null==p&&(p=0),null==f&&(f=void 0),null==a&&(a=!0),null==d&&(d="is_stuck"),n=t(document),null==e&&(e=!0),c=function(o,s,c,r,l,k,m,g){var v,b,$,y,_,w,x,T,I,z,C,E;if(!o.data("sticky_kit")){if(o.data("sticky_kit",!0),_=n.height(),x=o.parent(),null!=f&&(x=x.closest(f)),!x.length)throw"failed to find stick parent";if($=!1,v=!1,(C=null!=h?h&&o.closest(h):t("<div />"))&&C.css("position",o.css("position")),(T=function(){var t,i,e;if(!g)return _=n.height(),t=parseInt(x.css("border-top-width"),10),i=parseInt(x.css("padding-top"),10),s=parseInt(x.css("padding-bottom"),10),c=x.offset().top+t+i,r=x.height(),$&&($=!1,v=!1,null==h&&(o.insertAfter(C),C.detach()),o.css({position:"",top:"",width:"",bottom:""}).removeClass(d),e=!0),l=o.offset().top-(parseInt(o.css("margin-top"),10)||0)-p,k=o.outerHeight(!0),m=o.css("float"),C&&C.css({width:o.outerWidth(!0),height:k,display:o.css("display"),"vertical-align":o.css("vertical-align"),float:m}),e?E():void 0})(),k!==r)return y=void 0,w=p,z=u,E=function(){var t,f,b,I,E,H;if(!g)return b=!1,null!=z&&(z-=1)<=0&&(z=u,T(),b=!0),b||n.height()===_||(T(),b=!0),I=i.scrollTop(),null!=y&&(f=I-y),y=I,$?(e&&(E=I+k+w>r+c,v&&!E&&(v=!1,o.css({position:"fixed",bottom:"",top:w}).trigger("sticky_kit:unbottom"))),I<l&&($=!1,w=p,null==h&&("left"!==m&&"right"!==m||o.insertAfter(C),C.detach()),t={position:"",width:"",top:""},o.css(t).removeClass(d).trigger("sticky_kit:unstick")),a&&(H=i.height(),k+p>H&&(v||(w-=f,w=Math.max(H-k,w),w=Math.min(p,w),$&&o.css({top:w+"px"}))))):I>l&&($=!0,(t={position:"fixed",top:w}).width="border-box"===o.css("box-sizing")?o.outerWidth()+"px":o.width()+"px",o.css(t).addClass(d),null==h&&(o.after(C),"left"!==m&&"right"!==m||C.append(o)),o.trigger("sticky_kit:stick")),$&&e&&(null==E&&(E=I+k+w>r+c),!v&&E)?(v=!0,"static"===x.css("position")&&x.css({position:"relative"}),o.css({position:"absolute",bottom:s,top:"auto"}).trigger("sticky_kit:bottom")):void 0},I=function(){return T(),E()},b=function(){if(g=!0,i.off("touchmove",E),i.off("scroll",E),i.off("resize",I),t(document.body).off("sticky_kit:recalc",I),o.off("sticky_kit:detach",b),o.removeData("sticky_kit"),o.css({position:"",bottom:"",top:"",width:""}),x.position("position",""),$)return null==h&&("left"!==m&&"right"!==m||o.insertAfter(C),C.remove()),o.removeClass(d)},i.on("touchmove",E),i.on("scroll",E),i.on("resize",I),t(document.body).on("sticky_kit:recalc",I),o.on("sticky_kit:detach",b),setTimeout(E,0)}},r=0,l=this.length;r<l;r++)s=this[r],c(t(s));return this}}).call(this),$(window).on("minimize.photon.sidebar maximize.photon.sidebar hidden.bs.collapse hidden.bs.tab shown.bs.collapse shown.bs.tab show.bs.tab show.bs.collapse resize",function(){setTimeout(function(){$(document.body).trigger("sticky_kit:recalc")},0)}),$(document.body).on("click",".tool",function(t){$.each($(t.target).closest(".panel").find(".ui-jqgrid-hdiv"),function(t,i){var o=$(this);setTimeout(function(){var t=o.parent().find(".ui-jqgrid-bdiv");o.scrollLeft(t.scrollLeft())},100)})});